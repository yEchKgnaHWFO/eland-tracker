var ElandTracker=ElandTracker||{};ElandTracker.apiGateways={elandReceiverALL:"//dmp.eland-tech.com/dmpreceiver/uidTransfer?",elandReceiverView:"//dmp.eland-tech.com/dmpreceiver/viewreceiver?",elandReceiverClick:"//dmp.eland-tech.com/dmpreceiver/clickreceiver?",elandReceiverDataFlush:"//dmp.eland-tech.com/dmpreceiver/dataflush"};ElandTracker.storageAvailable=function(b){var d;try{d=window[b];if(!d){return false}}catch(c){return false}try{var a="__storage_test__";d.setItem(a,a);d.removeItem(a);return true}catch(c){return false}};ElandTracker.setCampaignCodes=function(b){if(typeof b==="undefined"){return}if(!ElandTracker.storageAvailable("sessionStorage")){return}try{if(b.utmSource){this.elandUtmSource=b.utmSource;sessionStorage.setItem("elandUtmSource",this.elandUtmSource)}if(b.adId){this.elandAdId=b.adId;sessionStorage.setItem("elandAdId",this.elandAdId)}}catch(a){return}};ElandTracker.getCampaignCodeFromStorage=function(a){if(typeof a==="undefined"||!ElandTracker.storageAvailable("sessionStorage")){return""}return sessionStorage.getItem(a)||""};ElandTracker.getIframeUrl=function(i){function a(p){var r=new Date();r.setTime(r.getTime()+(1000));var o="expires="+r.toUTCString();var q=p+"="+r.toDateString()+"; "+o+"; path=/";document.cookie=q}function h(p){var o=document.cookie.split(";");for(var q=0;q<o.length;q++){var r=o[q];if(r.length>1){while(r.charAt(0)===" "){r=r.substring(1)}}if(r.indexOf(p)===0){return r.substring(p.length,r.length)}}return""}function m(o){if(o===undefined){return""}else{if(o.match(/Windows Phone/i)){return"WindowsPhone"}else{if(o.match(/Android/i)){return"Android"}else{if(o.match(/iPhone|iPad|iPod/i)){return"iOS"}else{if(o.match(/Windows NT/i)){return"Windows"}else{if(o.match(/Macintosh/i)){return"MacOS"}else{return"Others"}}}}}}}function b(o){if(o===undefined){return""}else{if(o.match(/Edge|edg/i)){return"Edge"}else{if(o.match(/Dalvik/i)){return"Android"}else{if(o.match(/IEMobile/i)){return"IEMobile"}else{if(o.match(/msie|trident\/7/i)){return"IE"}else{if(o.match(/Puffin/i)){return"Puffin"}else{if(o.match(/Dolfin/i)){return"Dolfin"}else{if(o.match(/BlackBerry/i)){return"BlackBerry"}else{if(o.match(/uc\s?browser|\subrowser/i)){return"UCBrowser"}else{if(o.match(/Vivaldi/i)){return"Vivaldi"}else{if(o.match(/Opera|opr/i)){return"Opera"}else{if(o.match(/SamsungBrowser/i)){return"Samsung"}else{if(o.match(/\sline/i)){return"Line"}else{if(o.match(/FBSV|FB_IAB/i)){return"Facebook"}else{if(o.match(/Instagram/i)){return"Instagram"}else{if(o.match(/wechat|MicroMessenger.*NetType.*Language/i)){return"Wechat"}else{if(o.match(/MiuiBrowser|Baidu|bidubrowser|MicroMessenger/i)||o.match(/Telegram|Slack|WhatsApp|KAKAOTALK/i)){return"Others"}else{if(o.match(/mobile Safari/i)&&o.match(/android/i)&&o.match(/version/i)){if(o.match(/chrome/i)){return"Chrome"}else{return"Android"}}else{if(o.match(/Chrome/i)&&o.match(/Safari/i)){return"Chrome"}else{if(o.match(/Firefox|FxiOS/i)){return"Firefox"}else{if(o.match(/Opera Mini/i)){return"Opera Mini"}else{if(o.match(/Opera Mobi/i)){return"Opera Mobi"}else{if(o.match(/Chrome|CriOS/i)){return"Chrome"}else{if(o.match(/Safari/i)){return"Safari"}else{return"Others"}}}}}}}}}}}}}}}}}}}}}}}}}function e(){var p=location.search.substring(1);var r=p.split("&");for(var o=0;o<r.length;o++){var s=r[o].split("=");if(s[0]==="utm_medium"){try{return decodeURIComponent(s[1])}catch(q){return s[1]}}}return""}function l(){var p=location.search.substring(1);var r=p.split("&");for(var o=0;o<r.length;o++){var s=r[o].split("=");if(s[0]==="utm_campaign"){try{return decodeURIComponent(s[1])}catch(q){return s[1]}}}return""}function c(){var p=location.search.substring(1);var r=p.split("&");for(var o=0;o<r.length;o++){var s=r[o].split("=");if(s[0]==="utm_term"){try{return decodeURIComponent(s[1])}catch(q){return s[1]}}}return""}function k(){var p=location.search.substring(1);var r=p.split("&");for(var o=0;o<r.length;o++){var s=r[o].split("=");if(s[0]==="utm_content"){try{return decodeURIComponent(s[1])}catch(q){return s[1]}}}return""}function j(){var p=location.search.substring(1);var r=p.split("&");for(var o=0;o<r.length;o++){var s=r[o].split("=");if(s[0]==="utm_source"){try{return decodeURIComponent(s[1])}catch(q){return s[1]}}}return ElandTracker.getCampaignCodeFromStorage("elandUtmSource")}function g(){var p=location.search.substring(1);var r=p.split("&");for(var o=0;o<r.length;o++){var s=r[o].split("=");if(s[0]==="ad_id"){try{return decodeURIComponent(s[1])}catch(q){return s[1]}}}return ElandTracker.getCampaignCodeFromStorage("elandAdId")}function f(o){if(o===undefined){return""}else{return(o.match(/Android/i)||o.match(/BlackBerry/i)||o.match(/iPhone|iPad|iPod/i)||o.match(/Opera Mini|Opera Mobi/i)||o.match(/Puffin/i)||o.match(/IEMobile/i)||o.match(/Mobile|Tablet/i))?"Mobile":"PC"}}function n(r,s){var q=r.split("/");var o="";if(q.length>=4){for(var p=0;p<s;p++){if(q.length===4&&q[3].length===0){o="Web-Index";break}else{if(q.length>3+p){o+=(q[3+p]+"-")}else{break}}}}else{o="Web-Index"}o=o.split("?")[0];return o}function d(p){var q="";var o="";if(p.tno!==undefined){this.tno=p.tno;this.receiveData=p.receiveData||"0";this.callback=p.callback||"";o=ElandTracker.apiGateways.elandReceiverALL;o+="&tno="+this.tno;o+="&receiveData="+this.receiveData;o+="&callback="+this.callback}else{if(p.trackType==="click"){o=ElandTracker.apiGateways.elandReceiverClick}else{o=ElandTracker.apiGateways.elandReceiverView}}if(document.domain&&document.domain.indexOf("tixcraft")!==-1||p.source==="tixcraft"){if(h("_eel=")||h("_eul=")){return}else{if(!h("_eul="&&p.hasOwnProperty("ecInfo")&&p.ecInfo.hasOwnProperty("emailInfo"))){a("_eel");a("_eul")}else{a("_eul")}}this.dmpSr="tixcraft";this.subfolderDepth=3}else{this.subfolderDepth=p.trackSubfolderDepth||1;this.dmpSr=p.source||location.hostname}if(p.receiveData!=="0"){this.trackType=p.trackType||"view";this.target=p.targetType||"usual";this.url=p.url||location.href;this.referUrl=p.referUrl||document.referrer;this.adSrTag=j();this.adIdTag=g();if(this.adSrTag!==""&&this.adIdTag!==""){this.campaignCodes={};this.campaignCodes.utmSource=this.adSrTag;this.campaignCodes.adId=this.adIdTag;this.setCampaignCodes(this.campaignCodes)}this.adMediumTag=e();this.adCampaignTag=l();this.adTermTag=c();this.adContentTag=k();var r=sessionStorage.getItem("nopd");if(r==="1"){this.os="Others";this.browser="Others";this.platform="Others"}else{this.os=m(navigator.userAgent);this.browser=b(navigator.userAgent);this.platform=f(navigator.userAgent)}this.subDomain=p.subFolder||n(this.url,this.subfolderDepth);this.session=p.session||"";if(this.dmpSr.length<=50&&this.dmpSr.length>0){o+="&DMP_SR="+this.dmpSr}else{q="[ElandTracker] The length of 'DMP_SR' is invalid.";console.log(q);throw new Error(q)}if(this.target.length<=50){o+="&target="+this.target}else{q="[ElandTracker] The length of 'target' is invalid.";console.log(q);throw new Error(q)}o+="&url="+encodeURIComponent(this.url)+"&refer_url="+encodeURIComponent(this.referUrl);o+="&platform="+this.platform;o+="&os="+this.os;o+="&browser="+this.browser;o+="&subDomain="+this.subDomain;o+="&trackType="+this.trackType;if(p.sourceID){this.sourceID=p.sourceID;o+="&source_id="+p.sourceID}if(p.deviceID){this.deviceID=p.deviceID;o+="&device_id="+this.deviceID}if(this.adSrTag!==""){o+="&adSrTag="+this.adSrTag}if(this.adIdTag!==""){o+="&adIdTag="+this.adIdTag}if(this.adMediumTag!==""){o+="&adMediumTag="+this.adMediumTag}if(this.adCampaignTag!==""){o+="&adCampaignTag="+this.adCampaignTag}if(this.adTermTag!==""){o+="&adTermTag="+this.adTermTag}if(this.adContentTag!==""){o+="&adContentTag="+this.adContentTag}if(navigator.cookieEnabled){o+="&ce=1"}else{o+="&ce=0"}if(this.session){o+="&session="+this.session}if(p.adInfo){o+="&info=";if(p.adInfo.adSiteId){this.adSiteId=p.adInfo.adSiteId;para+=this.adSiteId}o+=",";if(p.adInfo.adZoneId){this.adZoneId=p.adInfo.adZoneId;para+=this.adZoneId}o+=",";if(p.adInfo.adId){this.adId=p.adInfo.adId;para+=this.adId}o+=",";if(p.adInfo.adBannerId){this.adBannerId=p.adInfo.adBannerId;o+=this.adBannerId}}if(p.ecInfo){if(p.ecInfo.itemName){this.itemName=p.ecInfo.itemName;o+="&item_name="+this.itemName}if(p.ecInfo.itemID){this.itemID=p.ecInfo.itemID;o+="&item_id="+this.itemID}if(p.ecInfo.memberID){this.memberID=p.ecInfo.memberID;o+="&member_id="+this.memberID}if(p.ecInfo.emailInfo){this.emailInfo=p.ecInfo.emailInfo;o+="&email="+this.emailInfo}if(p.ecInfo.payMoney){this.payMoney=p.ecInfo.payMoney;o+="&pay_money="+this.payMoney}if(p.ecInfo.orderItemID){this.orderItemID=p.ecInfo.orderItemID;o+="&order_item_id="+this.orderItemID}if(p.ecInfo.orderItemName){this.orderItemName=p.ecInfo.orderItemName;o+="&order_item_name="+this.orderItemName}if(p.ecInfo.pvsess){this.pvsess=p.ecInfo.pvsess;o+="&pvsess="+this.pvsess}}if(p.idMapping&&p.idMapping.googleId){this.googleId=p.idMapping.googleId;o+="&gid="+this.googleId}}if(ElandTracker.getFingerPrintV4){if(this.os==="Android"||this.os==="iOS"){o+="&fp="}else{o+="&fp2="}o+=ElandTracker.getFingerPrintV4+"&"}if(p.p1){o+="&p1="+p.p1}if(p.p2){o+="&p2="+p.p2}if(p.p3){o+="&p3="+p.p3}o+="&fbp="+fbpCookieValue;sessionStorage.removeItem("nopd");sessionStorage.removeItem("usefp");return o}return d(i)};ElandTracker.getIframe=function(b){var a=document.createElement("iframe");a.setAttribute("src",b);a.setAttribute("id","elandTracker");a.style.width=0+"px";a.style.height=0+"px";a.style.border=0+"px";a.style.display="none";a.setAttribute("alt","elandTracker");a.setAttribute("title","elandTracker");if(typeof ElandTracker.cbfunc==="function"){a.setAttribute("onload","ElandTracker.cbfunc()")}return a};ElandTracker.sendData=function(b){var a=ElandTracker.getIframeUrl(b);var c=ElandTracker.getIframe(a);document.body.appendChild(c)};ElandTracker.sendError=function(b){if(navigator&&navigator.userAgent){b=b+' ("'+navigator.userAgent+'")'}var c=ElandTracker.apiGateways.elandReceiverView;var a="DMP_SR=eland-rd4&target=debug&error_message="+b;if(location&&location.origin&&location.pathname){a=a+"&url="+encodeURIComponent(location.origin+location.pathname)}var d=this.getIframe(c+a);return document.body.appendChild(d)};ElandTracker.getClickForceIframeUrl=function(c){function g(i){if(i.match(/Windows Phone/i)){return"WindowsPhone"}else{if(i.match(/Android/i)){return"Android"}else{if(i.match(/iPhone|iPad|iPod/i)){return"iOS"}else{if(i.match(/Windows NT/i)){return"Windows"}else{if(i.match(/Macintosh/i)){return"MacOS"}else{return"Others"}}}}}}function a(i){if(i===undefined){return""}else{if(i.match(/Edge|edg/i)){return"Edge"}else{if(i.match(/Dalvik/i)){return"Android"}else{if(i.match(/IEMobile/i)){return"IEMobile"}else{if(i.match(/msie|trident\/7/i)){return"IE"}else{if(i.match(/Puffin/i)){return"Puffin"}else{if(i.match(/Dolfin/i)){return"Dolfin"}else{if(i.match(/BlackBerry/i)){return"BlackBerry"}else{if(i.match(/uc\s?browser|\subrowser/i)){return"UCBrowser"}else{if(i.match(/Vivaldi/i)){return"Vivaldi"}else{if(i.match(/Opera|opr/i)){return"Opera"}else{if(i.match(/SamsungBrowser/i)){return"Samsung"}else{if(i.match(/\sline/i)){return"Line"}else{if(i.match(/FBSV|FB_IAB/i)){return"Facebook"}else{if(i.match(/Instagram/i)){return"Instagram"}else{if(i.match(/wechat|MicroMessenger.*NetType.*Language/i)){return"Wechat"}else{if(i.match(/MiuiBrowser|Baidu|bidubrowser|MicroMessenger/i)||i.match(/Telegram|Slack|WhatsApp|KAKAOTALK/i)){return"Others"}else{if(i.match(/mobile Safari/i)&&i.match(/android/i)&&i.match(/version/i)){if(i.match(/chrome/i)){return"Chrome"}else{return"Android"}}else{if(i.match(/Chrome/i)&&i.match(/Safari/i)){return"Chrome"}else{if(i.match(/Firefox|FxiOS/i)){return"Firefox"}else{if(i.match(/Opera Mini/i)){return"Opera Mini"}else{if(i.match(/Opera Mobi/i)){return"Opera Mobi"}else{if(i.match(/Chrome|CriOS/i)){return"Chrome"}else{if(i.match(/Safari/i)){return"Safari"}else{return"Others"}}}}}}}}}}}}}}}}}}}}}}}}}var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini|Opera Mobi/i)},Puffin:function(){return navigator.userAgent.match(/Puffin/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Other:function(){return navigator.userAgent.match(/Mobile|Tablet/i)},any:function(){return(e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()||e.Puffin()||e.Other())}};function l(q,r){var p=q.split("/");var n="";if(p.length>=4){for(var o=0;o<r;o++){if(p.length===4&&p[3].length===0){n="Web-Index";break}else{if(p.length>3+o){n+=(p[3+o]+"-")}else{break}}}}else{n="Web-Index"}n=n.split("?")[0];return n}function h(i){return i.toLowerCase().replace(">","").replace("<","").replace(";","").replace("script","").replace("alert","").replace("img","").replace("frame","").replace("input","").replace("title","").replace("body","")}function k(){var o=location.search.substring(1);var p=o.split("&");for(var n=0;n<p.length;n++){var q=p[n].split("=");if(q[0]=="AD_SR"||q[0]=="ad_sr"){return q[1]}}return""}var d=c;if(d.trackSubfolderDepth){this.subfolderDepth=d.trackSubfolderDepth}else{this.subfolderDepth=1}if(d.targetType){this.target=d.targetType}else{this.target="ad"}if(d.url){this.url=d.url}else{this.url=h(location.href)}if(d.referUrl){this.referUrl=d.referUrl}else{this.referUrl=h(document.referrer)}this.adSrTag=k();if(d.cf_uid){this.cf_uid=d.cf_uid}var f=d.sp_variable.split(",");for(var b=0;b<f.length&&b<4;b++){if(this.info!=null){this.info+=",";this.info+=f[b]}else{this.info=f[b]}}if(d.source){this.dmpSr=d.source}else{this.dmpSr=location.hostname}if(this.dmpSr.length>50&&this.dmpSr.length<=0){m="[ElandTracker] The length of 'DMP_SR' is invalid.";console.log(m);throw new Error(m)}if(d.trackType){this.trackType=d.trackType}else{this.trackType="view"}this.os=g(navigator.userAgent);this.browser=a(navigator.userAgent);this.platform="";if(e.any()){this.platform="Mobile"}else{this.platform="PC"}if(d.subFolder){this.subDomain=d.subFolder}else{this.subDomain=l(this.url,this.subfolderDepth)}var j="https://cm.g.doubleclick.net/pixel";var m="";if(this.trackType=="view"){j+="?google_nid=clickforce_dmp&google_cm&log_type=view"}else{j+="?google_nid=clickforce_dmp&google_cm&log_type=click"}j+="&DMP_SR="+this.dmpSr;j+="&url="+encodeURIComponent(this.url)+"&refer_url="+encodeURIComponent(this.referUrl);j+="&platform="+this.platform;j+="&os="+this.os;j+="&browser="+this.browser;j+="&subDomain="+this.subDomain;j+="&info="+this.info;j+="&cf_uid="+this.cf_uid;if(this.adSrTag!==""){j+="&adSrTag="+this.adSrTag}if(this.target.length<=50){j+="&target="+this.target}else{m="[ElandTracker] The length of 'target' is invalid.";console.log(m);throw new Error(m)}if(navigator.cookieEnabled){j+="&ce=1"}else{j+="&ce=0"}if(ElandTracker.getFingerPrintV4){if(this.os==="Android"||this.os==="iOS"){j+="&fp="}else{j+="&fp2="}j+=ElandTracker.getFingerPrintV4+"&"}return j};ElandTracker.ClickforceSendData=function(b){var a=ElandTracker.getClickForceIframeUrl(b);var c=ElandTracker.getIframe(a);return document.body.appendChild(c)};var fbpCookieValue="";fbpCookieValue=getCookieValue("_fbp");var domain=document.domain;var blackList=["ipickup.com.tw","cigna.com.tw","toyota.com.tw","taitung.gov.tw","mercedes-me.tw","feib.com.tw","appbankee.com.tw","cathay-ins.com.tw","w3.bobe.com.tw","kgibank.com.tw","acerland.acer.com.tw","mazda.com.tw","volkswagen.com.tw","nestlebaby.com.tw","chailease.com.tw","taishinbank.com.tw","zztaitung.com","ebank.megabank.com.tw","iqueen.com.tw","poyabuy.com.tw","blueway-jeans.com","bioderma-naos.com.tw","m2.com.tw","mart.family.com.tw","drmay.com.tw","beldora.com.tw","so-nice.com.tw","niceioi.com.tw","shop.cosmed.com.tw","fbshop.com.tw","vincentsworld.com.tw","tw.memebox.com","lulus.tw","shop.hengstyle.com","timberland.com.tw","freshdays-shop.com","miniqueen.tw","tw.istayreal.com","anns.tw","brashop.modemarie.com.tw","store-philips.tw","store.2ndstreet.com.tw","w-ch.com.tw"];var isBlacklisted=blackList.some(function(a){return domain.includes(a)});if(!isBlacklisted){var edmpUuid="";getEdmpUuid().then(function(a){edmpUuid=a.edmpUuid;triggerGoogleAds();loadFacebookPixelScript()});function getEdmpUuid(){var a=window.location.href;var b=new URLSearchParams();b.append("url",a);return fetch("https://dmp.eland-tech.com/dmpreceiver/getEdmpUuid?"+b.toString(),{credentials:"include"}).then(function(c){return c.json()}).then(function(c){edmpUuid=c.edmp_uuid;return{edmpUuid:edmpUuid}})}}function triggerGoogleAds(){var a=document.createElement("script");a.src="https://www.googletagmanager.com/gtag/js?id=AW-10965005594";a.async=true;document.head.appendChild(a);window.dataLayer=window.dataLayer||[];function b(){dataLayer.push(arguments)}b("js",new Date());b("config","AW-10965005594");b("event","page_view",{user_id:edmpUuid,client_id:edmpUuid,send_to:"AW-10965005594"})}function loadFacebookPixelScript(b){createScriptAndMeta();var a=function(i,c,j,d,k,g,h){if(i.fbq){return}k=i.fbq=function(){k.callMethod?k.callMethod.apply(k,arguments):k.queue.push(arguments)};if(!i._fbq){i._fbq=k}k.push=k;k.loaded=!0;k.version="2.0";k.queue=[];g=c.createElement(j);g.async=!0;g.src=d;h=c.getElementsByTagName(j)[0];h.parentNode.insertBefore(g,h)}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","640155001270959",{external_id:edmpUuid});fbq("trackSingle","PageView");if(typeof b==="function"){b()}}function createScriptAndMeta(){var b=document.createElement("script");var a=document.getElementsByTagName("script")[0];b.src="//www.facebook.com/tr?id=640155001270959&ev=PageView&noscript=1";a.parentNode.insertBefore(b,a)}function getCookieValue(e){var d="";var c=document.cookie.split(";");for(var b=0;b<c.length;b++){var a=c[b].trim();if(a.indexOf(e+"=")===0){d=a.substring(e.length+1);break}}return d};