var ElandTracker=ElandTracker||{};ElandTracker.apiGateways={elandReceiverALL:"https://dmp.eland-tech.com/dmpreceiver/uidTransfer?",elandReceiverView:"https://dmp.eland-tech.com/dmpreceiver/viewreceiver?",elandReceiverClick:"https://dmp.eland-tech.com/dmpreceiver/clickreceiver?",elandReceiverDataFlush:"https://dmp.eland-tech.com/dmpreceiver/dataflush"};
ElandTracker.storageAvailable=function(a){var e;try{if(e=window[a],!e)return!1}catch(d){return!1}try{return e.setItem("__storage_test__","__storage_test__"),e.removeItem("__storage_test__"),!0}catch(d){return!1}};
ElandTracker.setCampaignCodes=function(a){if("undefined"!==typeof a&&ElandTracker.storageAvailable("sessionStorage"))try{a.utmSource&&(this.elandUtmSource=a.utmSource,sessionStorage.setItem("elandUtmSource",this.elandUtmSource)),a.adId&&(this.elandAdId=a.adId,sessionStorage.setItem("elandAdId",this.elandAdId))}catch(e){}};ElandTracker.getCampaignCodeFromStorage=function(a){return"undefined"!==typeof a&&ElandTracker.storageAvailable("sessionStorage")?sessionStorage.getItem(a)||"":""};
ElandTracker.getIframeUrl=function(a){function e(a){var b=new Date;b.setTime(b.getTime()+1E3);var c="expires\x3d"+b.toUTCString();a=a+"\x3d"+b.toDateString()+"; "+c+"; path\x3d/";document.cookie=a}function d(a){for(var b=document.cookie.split(";"),c=0;c<b.length;c++){var h=b[c];if(1<h.length)for(;" "===h.charAt(0);)h=h.substring(1);if(0===h.indexOf(a))return h.substring(a.length,h.length)}return""}function f(){for(var a=location.search.substring(1).split("\x26"),b=0;b<a.length;b++){var c=a[b].split("\x3d");
if("utm_medium"===c[0])try{return decodeURIComponent(c[1])}catch(h){return c[1]}}return""}function g(){for(var a=location.search.substring(1).split("\x26"),b=0;b<a.length;b++){var c=a[b].split("\x3d");if("utm_campaign"===c[0])try{return decodeURIComponent(c[1])}catch(h){return c[1]}}return""}function k(){for(var a=location.search.substring(1).split("\x26"),b=0;b<a.length;b++){var c=a[b].split("\x3d");if("utm_term"===c[0])try{return decodeURIComponent(c[1])}catch(h){return c[1]}}return""}function h(){for(var a=
location.search.substring(1).split("\x26"),b=0;b<a.length;b++){var c=a[b].split("\x3d");if("utm_content"===c[0])try{return decodeURIComponent(c[1])}catch(h){return c[1]}}return""}function l(){for(var a=location.search.substring(1).split("\x26"),b=0;b<a.length;b++){var c=a[b].split("\x3d");if("utm_source"===c[0])try{return decodeURIComponent(c[1])}catch(h){return c[1]}}return ElandTracker.getCampaignCodeFromStorage("elandUtmSource")}function q(){for(var a=location.search.substring(1).split("\x26"),
b=0;b<a.length;b++){var c=a[b].split("\x3d");if("ad_id"===c[0])try{return decodeURIComponent(c[1])}catch(h){return c[1]}}return ElandTracker.getCampaignCodeFromStorage("elandAdId")}return function(a){var b="",b="";void 0!==a.tno?(this.tno=a.tno,this.receiveData=a.receiveData||"0",this.callback=a.callback||"",b=ElandTracker.apiGateways.elandReceiverALL,b+="\x26tno\x3d"+this.tno,b+="\x26receiveData\x3d"+this.receiveData,b+="\x26callback\x3d"+this.callback):b="click"===a.trackType?ElandTracker.apiGateways.elandReceiverClick:
ElandTracker.apiGateways.elandReceiverView;if(document.domain&&-1!==document.domain.indexOf("tixcraft")||"tixcraft"===a.source){if(d("_eel\x3d")||d("_eul\x3d"))return;d(a.hasOwnProperty("ecInfo")&&a.ecInfo.hasOwnProperty("emailInfo"))||e("_eel");e("_eul");this.dmpSr="tixcraft";this.subfolderDepth=3}else this.subfolderDepth=a.trackSubfolderDepth||1,this.dmpSr=a.source||location.hostname;if("0"!==a.receiveData){this.trackType=a.trackType||"view";this.target=a.targetType||"usual";this.url=a.url||location.href;
this.referUrl=a.referUrl||document.referrer;this.adSrTag=l();this.adIdTag=q();""!==this.adSrTag&&""!==this.adIdTag&&(this.campaignCodes={},this.campaignCodes.utmSource=this.adSrTag,this.campaignCodes.adId=this.adIdTag,this.setCampaignCodes(this.campaignCodes));this.adMediumTag=f();this.adCampaignTag=g();this.adTermTag=k();this.adContentTag=h();if("1"===sessionStorage.getItem("nopd"))this.platform=this.browser=this.os="Others";else{var c=navigator.userAgent;this.os=void 0===c?"":c.match(/Windows Phone/i)?
"WindowsPhone":c.match(/Android/i)?"Android":c.match(/iPhone|iPad|iPod/i)?"iOS":c.match(/Windows NT/i)?"Windows":c.match(/Macintosh/i)?"MacOS":"Others";c=navigator.userAgent;this.browser=void 0===c?"":c.match(/Edge|edg/i)?"Edge":c.match(/Dalvik/i)?"Android":c.match(/IEMobile/i)?"IEMobile":c.match(/msie|trident\/7/i)?"IE":c.match(/Puffin/i)?"Puffin":c.match(/Dolfin/i)?"Dolfin":c.match(/BlackBerry/i)?"BlackBerry":c.match(/uc\s?browser|\subrowser/i)?"UCBrowser":c.match(/Vivaldi/i)?"Vivaldi":c.match(/Opera|opr/i)?
"Opera":c.match(/SamsungBrowser/i)?"Samsung":c.match(/\sline/i)?"Line":c.match(/FBSV|FB_IAB/i)?"Facebook":c.match(/Instagram/i)?"Instagram":c.match(/wechat|MicroMessenger.*NetType.*Language/i)?"Wechat":c.match(/MiuiBrowser|Baidu|bidubrowser|MicroMessenger/i)||c.match(/Telegram|Slack|WhatsApp|KAKAOTALK/i)?"Others":c.match(/mobile Safari/i)&&c.match(/android/i)&&c.match(/version/i)?c.match(/chrome/i)?"Chrome":"Android":c.match(/Chrome/i)&&c.match(/Safari/i)?"Chrome":c.match(/Firefox|FxiOS/i)?"Firefox":
c.match(/Opera Mini/i)?"Opera Mini":c.match(/Opera Mobi/i)?"Opera Mobi":c.match(/Chrome|CriOS/i)?"Chrome":c.match(/Safari/i)?"Safari":"Others";c=navigator.userAgent;c=void 0===c?"":c.match(/Android/i)||c.match(/BlackBerry/i)||c.match(/iPhone|iPad|iPod/i)||c.match(/Opera Mini|Opera Mobi/i)||c.match(/Puffin/i)||c.match(/IEMobile/i)||c.match(/Mobile|Tablet/i)?"Mobile":"PC";this.platform=c}if(!(c=a.subFolder)){var c=this.subfolderDepth,n=this.url.split("/"),m="";if(4<=n.length)for(var p=0;p<c;p++)if(4===
n.length&&0===n[3].length){m="Web-Index";break}else if(n.length>3+p)m+=n[3+p]+"-";else break;else m="Web-Index";c=m=m.split("?")[0]}this.subDomain=c;this.session=a.session||"";if(50>=this.dmpSr.length&&0<this.dmpSr.length)b+="\x26DMP_SR\x3d"+this.dmpSr;else throw b="[ElandTracker] The length of 'DMP_SR' is invalid.",console.log(b),Error(b);if(50>=this.target.length)b+="\x26target\x3d"+this.target;else throw b="[ElandTracker] The length of 'target' is invalid.",console.log(b),Error(b);b+="\x26url\x3d"+
encodeURIComponent(this.url)+"\x26refer_url\x3d"+encodeURIComponent(this.referUrl);b+="\x26platform\x3d"+this.platform;b+="\x26os\x3d"+this.os;b+="\x26browser\x3d"+this.browser;b+="\x26subDomain\x3d"+this.subDomain;b+="\x26trackType\x3d"+this.trackType;a.sourceID&&(this.sourceID=a.sourceID,b+="\x26source_id\x3d"+a.sourceID);a.deviceID&&(this.deviceID=a.deviceID,b+="\x26device_id\x3d"+this.deviceID);""!==this.adSrTag&&(b+="\x26adSrTag\x3d"+this.adSrTag);""!==this.adIdTag&&(b+="\x26adIdTag\x3d"+this.adIdTag);
""!==this.adMediumTag&&(b+="\x26adMediumTag\x3d"+this.adMediumTag);""!==this.adCampaignTag&&(b+="\x26adCampaignTag\x3d"+this.adCampaignTag);""!==this.adTermTag&&(b+="\x26adTermTag\x3d"+this.adTermTag);""!==this.adContentTag&&(b+="\x26adContentTag\x3d"+this.adContentTag);b=navigator.cookieEnabled?b+"\x26ce\x3d1":b+"\x26ce\x3d0";this.session&&(b+="\x26session\x3d"+this.session);a.adInfo&&(a.adInfo.adSiteId&&(this.adSiteId=a.adInfo.adSiteId,para+=this.adSiteId),b+="\x26info\x3d,",a.adInfo.adZoneId&&
(this.adZoneId=a.adInfo.adZoneId,para+=this.adZoneId),b+=",",a.adInfo.adId&&(this.adId=a.adInfo.adId,para+=this.adId),b+=",",a.adInfo.adBannerId&&(this.adBannerId=a.adInfo.adBannerId,b+=this.adBannerId));a.ecInfo&&(a.ecInfo.itemName&&(this.itemName=a.ecInfo.itemName,b+="\x26item_name\x3d"+this.itemName),a.ecInfo.itemID&&(this.itemID=a.ecInfo.itemID,b+="\x26item_id\x3d"+this.itemID),a.ecInfo.memberID&&(this.memberID=a.ecInfo.memberID,b+="\x26member_id\x3d"+this.memberID),a.ecInfo.emailInfo&&(this.emailInfo=
a.ecInfo.emailInfo,b+="\x26email\x3d"+this.emailInfo),a.ecInfo.payMoney&&(this.payMoney=a.ecInfo.payMoney,b+="\x26pay_money\x3d"+this.payMoney),a.ecInfo.orderItemID&&(this.orderItemID=a.ecInfo.orderItemID,b+="\x26order_item_id\x3d"+this.orderItemID),a.ecInfo.orderItemName&&(this.orderItemName=a.ecInfo.orderItemName,b+="\x26order_item_name\x3d"+this.orderItemName),a.ecInfo.pvsess&&(this.pvsess=a.ecInfo.pvsess,b+="\x26pvsess\x3d"+this.pvsess));a.idMapping&&a.idMapping.googleId&&(this.googleId=a.idMapping.googleId,
b+="\x26gid\x3d"+this.googleId)}ElandTracker.getFingerPrintV4&&(b="Android"===this.os||"iOS"===this.os?b+"\x26fp\x3d":b+"\x26fp2\x3d",b+=ElandTracker.getFingerPrintV4+"\x26");a.p1&&(b+="\x26p1\x3d"+a.p1);a.p2&&(b+="\x26p2\x3d"+a.p2);a.p3&&(b+="\x26p3\x3d"+a.p3);b+="\x26fbp\x3d"+getCookieValue("_fbp");sessionStorage.removeItem("nopd");sessionStorage.removeItem("usefp");return b}(a)};
ElandTracker.getIframe=function(a){var e=document.createElement("iframe");e.setAttribute("src",a);e.setAttribute("id","elandTracker");e.style.width="0px";e.style.height="0px";e.style.border="0px";e.style.display="none";e.setAttribute("alt","elandTracker");e.setAttribute("title","elandTracker");"function"===typeof ElandTracker.cbfunc&&e.setAttribute("onload","ElandTracker.cbfunc()");return e};
ElandTracker.sendData=function(a){var e;try{e=a.allowGAMeta}catch(f){e=1}var d=getEid();setOrUpdateCookies(d);sendMetaGooglePageView(e,d);a=ElandTracker.getIframeUrl(a);a=ElandTracker.getIframe(a);document.body.appendChild(a)};
ElandTracker.sendError=function(a){navigator&&navigator.userAgent&&(a=a+' ("'+navigator.userAgent+'")');var e=ElandTracker.apiGateways.elandReceiverView;a="DMP_SR\x3deland-rd4\x26target\x3ddebug\x26error_message\x3d"+a;location&&location.origin&&location.pathname&&(a=a+"\x26url\x3d"+encodeURIComponent(location.origin+location.pathname));e=this.getIframe(e+a);return document.body.appendChild(e)};
ElandTracker.getClickForceIframeUrl=function(a){function e(a,e){var d=a.split("/"),f="";if(4<=d.length)for(var b=0;b<e;b++)if(4===d.length&&0===d[3].length){f="Web-Index";break}else if(d.length>3+b)f+=d[3+b]+"-";else break;else f="Web-Index";return f=f.split("?")[0]}function d(a){return a.toLowerCase().replace("\x3e","").replace("\x3c","").replace(";","").replace("script","").replace("alert","").replace("img","").replace("frame","").replace("input","").replace("title","").replace("body","")}var f=
{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini|Opera Mobi/i)},Puffin:function(){return navigator.userAgent.match(/Puffin/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},Other:function(){return navigator.userAgent.match(/Mobile|Tablet/i)},any:function(){return f.Android()||
f.BlackBerry()||f.iOS()||f.Opera()||f.Windows()||f.Puffin()||f.Other()}};this.subfolderDepth=a.trackSubfolderDepth?a.trackSubfolderDepth:1;this.target=a.targetType?a.targetType:"ad";this.url=a.url?a.url:d(location.href);this.referUrl=a.referUrl?a.referUrl:d(document.referrer);this.adSrTag=function(){for(var a=location.search.substring(1).split("\x26"),e=0;e<a.length;e++){var d=a[e].split("\x3d");if("AD_SR"==d[0]||"ad_sr"==d[0])return d[1]}return""}();a.cf_uid&&(this.cf_uid=a.cf_uid);for(var g=a.sp_variable.split(","),
k=0;k<g.length&&4>k;k++)null!=this.info?(this.info+=",",this.info+=g[k]):this.info=g[k];this.dmpSr=a.source?a.source:location.hostname;if(50<this.dmpSr.length&&0>=this.dmpSr.length)throw g="[ElandTracker] The length of 'DMP_SR' is invalid.",console.log(g),Error(g);this.trackType=a.trackType?a.trackType:"view";this.os=function(a){return a.match(/Windows Phone/i)?"WindowsPhone":a.match(/Android/i)?"Android":a.match(/iPhone|iPad|iPod/i)?"iOS":a.match(/Windows NT/i)?"Windows":a.match(/Macintosh/i)?"MacOS":
"Others"}(navigator.userAgent);this.browser=function(a){return void 0===a?"":a.match(/Edge|edg/i)?"Edge":a.match(/Dalvik/i)?"Android":a.match(/IEMobile/i)?"IEMobile":a.match(/msie|trident\/7/i)?"IE":a.match(/Puffin/i)?"Puffin":a.match(/Dolfin/i)?"Dolfin":a.match(/BlackBerry/i)?"BlackBerry":a.match(/uc\s?browser|\subrowser/i)?"UCBrowser":a.match(/Vivaldi/i)?"Vivaldi":a.match(/Opera|opr/i)?"Opera":a.match(/SamsungBrowser/i)?"Samsung":a.match(/\sline/i)?"Line":a.match(/FBSV|FB_IAB/i)?"Facebook":a.match(/Instagram/i)?
"Instagram":a.match(/wechat|MicroMessenger.*NetType.*Language/i)?"Wechat":a.match(/MiuiBrowser|Baidu|bidubrowser|MicroMessenger/i)||a.match(/Telegram|Slack|WhatsApp|KAKAOTALK/i)?"Others":a.match(/mobile Safari/i)&&a.match(/android/i)&&a.match(/version/i)?a.match(/chrome/i)?"Chrome":"Android":a.match(/Chrome/i)&&a.match(/Safari/i)?"Chrome":a.match(/Firefox|FxiOS/i)?"Firefox":a.match(/Opera Mini/i)?"Opera Mini":a.match(/Opera Mobi/i)?"Opera Mobi":a.match(/Chrome|CriOS/i)?"Chrome":a.match(/Safari/i)?
"Safari":"Others"}(navigator.userAgent);this.platform="";f.any()?this.platform="Mobile":this.platform="PC";this.subDomain=a.subFolder?a.subFolder:e(this.url,this.subfolderDepth);a="https://cm.g.doubleclick.net/pixel";g="";a="view"==this.trackType?a+"?google_nid\x3dclickforce_dmp\x26google_cm\x26log_type\x3dview":a+"?google_nid\x3dclickforce_dmp\x26google_cm\x26log_type\x3dclick";a+="\x26DMP_SR\x3d"+this.dmpSr;a+="\x26url\x3d"+encodeURIComponent(this.url)+"\x26refer_url\x3d"+encodeURIComponent(this.referUrl);
a+="\x26platform\x3d"+this.platform;a+="\x26os\x3d"+this.os;a+="\x26browser\x3d"+this.browser;a+="\x26subDomain\x3d"+this.subDomain;a+="\x26info\x3d"+this.info;a+="\x26cf_uid\x3d"+this.cf_uid;""!==this.adSrTag&&(a+="\x26adSrTag\x3d"+this.adSrTag);if(50>=this.target.length)a+="\x26target\x3d"+this.target;else throw g="[ElandTracker] The length of 'target' is invalid.",console.log(g),Error(g);a=navigator.cookieEnabled?a+"\x26ce\x3d1":a+"\x26ce\x3d0";ElandTracker.getFingerPrintV4&&(a="Android"===this.os||
"iOS"===this.os?a+"\x26fp\x3d":a+"\x26fp2\x3d",a+=ElandTracker.getFingerPrintV4+"\x26");return a};ElandTracker.ClickforceSendData=function(a){a=ElandTracker.getClickForceIframeUrl(a);a=ElandTracker.getIframe(a);return document.body.appendChild(a)};
function sendMetaGooglePageView(a,e){function d(a){function d(){dataLayerDMP.push(arguments)}var f=document.createElement("script");f.src="https://www.googletagmanager.com/gtag/js?id\x3d"+a+"\x26l\x3ddataLayerDMP";f.async=!0;document.head.appendChild(f);window.dataLayerDMP=window.dataLayerDMP||[];d("js",new Date);d("config",a);d("event","PageView",{send_to:a,user_id:e,client_id:e})}function f(a,d){var f=window.location.href;(function(a,e,b,c,d,f,g){a.fbq||(d=a.fbq=function(){d.callMethod?d.callMethod.apply(d,
arguments):d.queue.push(arguments)},a._fbq||(a._fbq=d),d.push=d,d.loaded=!0,d.version="2.0",d.queue=[],f=e.createElement(b),f.async=!0,f.src=c,g=e.getElementsByTagName(b)[0],g.parentNode.insertBefore(f,g))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");0>f.indexOf("lat")&&0>f.indexOf("lng")&&(fbq("init",a,{external_id:e}),fbq("trackSingle",a.toString(),"PageView"));"function"===typeof d&&d()}var g=window.location.href;"ipickup.com.tw cigna.com.tw toyota.com.tw taitung.gov.tw mercedes-me.tw feib.com.tw appbankee.com.tw cathay-ins.com.tw w3.bobe.com.tw kgibank.com.tw acerland.acer.com.tw mazda.com.tw volkswagen.com.tw nestlebaby.com.tw chailease.com.tw taishinbank.com.tw zztaitung.com ebank.megabank.com.tw iqueen.com.tw poyabuy.com.tw blueway-jeans.com bioderma-naos.com.tw m2.com.tw mart.family.com.tw drmay.com.tw beldora.com.tw so-nice.com.tw niceioi.com.tw shop.cosmed.com.tw fbshop.com.tw vincentsworld.com.tw tw.memebox.com lulus.tw shop.hengstyle.com timberland.com.tw freshdays-shop.com miniqueen.tw tw.istayreal.com anns.tw brashop.modemarie.com.tw store-philips.tw store.2ndstreet.com.tw w-ch.com.tw beautywa.tw armarpot.com mollifix.com eurohaus.com.tw cathaybk.com saime.com homeshop.taipei soloneshop.com.tw easyshop.com.tw lat\x3d lng\x3d".split(" ").some(function(a){return g.includes(a)})||
0===a||(d("AW-10965005594"),d("AW-1002649313"),d("AW-10837221747"),f(677954962557395),f(0x6c546d8d282fe),f(640155001270959),f(0x64ec4f191b6e))}function getEid(){var a=getCookieValue("edmp_uuid");""===a.trim()&&getEdmpUuid().then(function(e){a=e.edmpUuid});""===a.trim()&&(a=generateUUID());return a}
function getEdmpUuid(){var a=window.location.href,e=new URLSearchParams;e.append("url",a);return fetch("https://dmp.eland-tech.com/dmpreceiver/getEdmpUuid?"+e.toString(),{credentials:"include"}).then(function(a){return a.json()}).then(function(a){edmpUuid=a.edmp_uuid;return{edmpUuid:edmpUuid}})}function getCookieValue(a){for(var e="",d=document.cookie.split(";"),f=0;f<d.length;f++){var g=d[f].trim();if(0===g.indexOf(a+"\x3d")){e=g.substring(a.length+1);break}}return e}
function setCookie(a,e,d){var f="";d&&(f=new Date,f.setTime(f.getTime()+864E5*d),f="; expires\x3d"+f.toUTCString());document.cookie=a+"\x3d"+e+f+"; path\x3d/"}
function setOrUpdateCookies(a){for(var e="edmp_uuid opt_out raised_hand_gm raised_hand_cm raised_hand_ttd raised_hand_yh".split(" "),d=document.cookie.split(";"),f={},g=0;g<d.length;g++){var k=d[g].trim(),h=k.indexOf("\x3d"),l=k.substring(0,h),k=k.substring(h+1,k.length);f[l]=k}for(d=0;d<e.length;d++)l=e[d].trim(),f[l]?l.startsWith("raised_hand_")||setCookie(l,f[l],365):"edmp_uuid"===l?(setCookie(l,a,365),setCookie("edmp_timestamp",Date.now(),365)):"opt_out"===l?setCookie(l,0,365):setCookie(l,"1",
(Math.floor(11*Math.random())+4)/24)}function generateUUID(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==e?d:d&7|8).toString(16)}).replace(/-/g,"")};